import{_ as C}from"./CT6yYNjo.js";import{_ as F,e as U,a as h,c as N}from"./BQF0dEwb.js";import{d as R,r as u,k as T,E as M,C as i,B as p,z as e,x as E,H,D as m,O as d,A as n,F as t,Q as O,P as c,R as j,S as L,y as P}from"./CiPyFz_p.js";import{a as Z}from"./D3d8F-wp.js";const A={key:0},Q={value:"patek,sobota"},W={value:"patek"},$={value:"sobota"},q={value:"ne"},G={value:"vino"},K={value:"pivo"},J={value:"tvrdej"},Y={value:"cocktail"},I={value:"nealko"},X=["disabled"],ee=R({__name:"ConfirmationForm",props:{t:{},sleeping:{type:Boolean}},setup(f){const b=f,l=b.t.confirmationForm.fields,a=u(""),v=u(1),k=u(""),y=u(""),g=u(b.sleeping?"patek,sobota":"x"),w=u(""),z=T(()=>a.value.trim()!==""&&v.value>0);Z({title:b.t.confirmationForm.title+" | "+b.t.intro.soWellGetMarriedThen});async function S(){const o=new URLSearchParams(window.location.search).get("password")||"",V={name:a.value,contact:k.value,personCount:v.value.toString(),sleeping:g.value,drink:y.value,message:w.value,password:o},x=new URLSearchParams(V);try{const D=await fetch("https://script.google.com/macros/s/AKfycbyWfwHR2pNtCAgkEdTNSchV8lQwenpCrk9pc2VUkZWjYooBseH_GRuDF3Vtq0xKqc6JfQ/exec",{method:"POST",body:x}),r=await D.json();if(D.ok){if(r.status==="created")return alert(`Formulář byl úspěšně odeslán. Děkujeme, ${a.value}!`);if(r.status==="updated")return alert(`Zaznamené odpovědi pro jméno "${a.value}" byly aktualizovány. Děkujeme!`);if(r.status==="wrong_password")return alert("Dobrý pokus, ale bez hesla to nepůjde! Vrať se zpět a zadej správné heslo");console.error("Unexpected response status:",r),alert("Omlouváme se, ale při odesílání formuláře došlo k chybě. Zkuste to prosím znovu později!")}}catch(_){console.error("Error submitting form:",_),alert("Omlouváme se, ale při odesílání formuláře došlo k chybě. Zkuste to prosím znovu později.")}}return(B,o)=>{const V=C,x=h,_=U,D=N,r=F;return P(),M(r,null,{default:i(()=>[p(x,{justify:"left",alignment:"top"},{default:i(()=>[p(V,{t:f.t},null,8,["t"])]),_:1}),p(D,{title:f.t.confirmationForm.title},{default:i(()=>[p(_,null,{default:i(()=>[e("form",{onSubmit:L(S,["prevent"])},[p(_,{gap:"1"},{default:i(()=>[e("label",null,[m(n(t(l).name)+" ",1),o[6]||(o[6]=e("br",null,null,-1)),d(e("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>c(a)?a.value=s:null),type:"text",name:"name",placeholder:"Prasátko Pepina"},null,512),[[O,t(a)]])]),e("label",null,[m(n(t(l).contact)+" ",1),o[7]||(o[7]=e("br",null,null,-1)),d(e("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>c(k)?k.value=s:null),type:"text",name:"contact"},null,512),[[O,t(k)]])]),e("label",null,[m(n(t(l).numberOfPeople)+" ",1),o[8]||(o[8]=e("br",null,null,-1)),d(e("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>c(v)?v.value=s:null),type:"number",name:"numberOfPeople"},null,512),[[O,t(v)]])]),f.sleeping?(P(),E("label",A,[m(n(t(l).sleepover)+" ",1),o[9]||(o[9]=e("br",null,null,-1)),d(e("select",{"onUpdate:modelValue":o[3]||(o[3]=s=>c(g)?g.value=s:null),name:"sleepover"},[e("option",Q,n(t(l).sleepoverOptions.both),1),e("option",W,n(t(l).sleepoverOptions.friday),1),e("option",$,n(t(l).sleepoverOptions.saturday),1),e("option",q,n(t(l).sleepoverOptions.none),1)],512),[[j,t(g)]])])):H("",!0),e("label",null,[m(n(t(l).preferredDrink)+" ",1),o[10]||(o[10]=e("br",null,null,-1)),d(e("select",{"onUpdate:modelValue":o[4]||(o[4]=s=>c(y)?y.value=s:null),name:"preferredDrink"},[e("option",G,n(t(l).preferredDrinkOptions.wine),1),e("option",K,n(t(l).preferredDrinkOptions.beer),1),e("option",J,n(t(l).preferredDrinkOptions.sliwovitz),1),e("option",Y,n(t(l).preferredDrinkOptions.cocktail),1),e("option",I,n(t(l).preferredDrinkOptions.softDrink),1)],512),[[j,t(y)]])]),e("label",null,[m(n(t(l).message)+" ",1),o[11]||(o[11]=e("br",null,null,-1)),d(e("textarea",{"onUpdate:modelValue":o[5]||(o[5]=s=>c(w)?w.value=s:null),name:"message",rows:"4",style:{width:"100%"}},null,512),[[O,t(w)]])]),p(x,{justify:"center",alignment:"center"},{default:i(()=>[e("button",{type:"submit",disabled:!t(z)},n(f.t.misc.submit),9,X)]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["title"])]),_:1})}}}),se=Object.assign(ee,{__name:"ConfirmationForm"});export{se as _};
